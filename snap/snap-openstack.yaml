setup:
  dirs:
    - "{snap_common}/etc/nova.conf.d"
    - "{snap_common}/etc/nova"
    - "{snap_common}/etc/neutron.conf.d"
    - "{snap_common}/etc/neutron"
    - "{snap_common}/log"
    - "{snap_common}/lock"
    - "{snap_common}/run"
    - "{snap_common}/instances"
  templates:
    "nova-snap.conf.j2": "{snap_common}/etc/nova.conf.d/nova-snap.conf"
    "neutron-snap.conf.j2": "{snap_common}/etc/neutron.conf.d/neutron-snap.conf"
entry_points:
  nova-compute:
    binary: nova-compute
    config-files:
      - "{snap}/etc/nova/nova.conf"
      - "{snap_common}/etc/nova/nova.conf"
    config-dirs:
      - "{snap_common}/etc/nova.conf.d"
    log-file: "{snap_common}/log/nova-compute.log"
  neutron-openvswitch-agent:
    binary: neutron-openvswitch-agent
    config-files:
      - "{snap}/etc/neutron/neutron.conf"
      - "{snap_common}/etc/neutron/neutron.conf"
    config-dirs:
      - "{snap_common}/etc/neutron.conf.d"
    log-file: "{snap_common}/log/neutron-openvswitch-agent.log"
